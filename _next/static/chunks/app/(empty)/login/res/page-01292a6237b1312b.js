(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7294],{31670:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t="https://back.digimediamkt.com"},35695:(e,r,s)=>{"use strict";var t=s(18999);s.o(t,"usePathname")&&s.d(r,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(r,{useSearchParams:function(){return t.useSearchParams}})},55443:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>m});var t=s(95155),o=s(23464),n=s(12115),a=s(24752),i=s.n(a),l=s(35695),u=s(31670);let c="".concat(u.A,"/api/update_password");function d(){let[e,r]=(0,n.useState)(""),[s,a]=(0,n.useState)(""),[u,d]=(0,n.useState)(!1),[m,p]=(0,n.useState)(null),f=(0,l.useRouter)(),h=(0,l.useSearchParams)();(0,n.useEffect)(()=>{let e=h.get("token");e?p(decodeURIComponent(e)):(i().fire("Error","Token inv\xe1lido o expirado","error"),f.push("/login"))},[h,f]);let g=async r=>{if(r.preventDefault(),!e||!s){i().fire("Error","Todos los campos son obligatorios","error");return}if(e!==s){i().fire("Error","Las contrase\xf1as no coinciden","error");return}if(!m){i().fire("Error","Token no disponible","error");return}d(!0);try{console.log("Enviando solicitud a:",c),console.log("Datos enviados:",{token:m,password:e,password_confirmation:s});let r=await o.A.post(c,{token:m,password:e,password_confirmation:s},{headers:{"Content-Type":"application/json",Accept:"application/json"}});console.log("Respuesta del servidor:",r.data),i().fire({title:"\xc9xito",text:r.data.message,icon:"success",timer:2e3,showConfirmButton:!1}),setTimeout(()=>{f.push("/login")},2e3)}catch(r){var t,n;console.error("Error completo:",r);let e=(null===(n=r.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message)||"Hubo un problema, intenta de nuevo";i().fire("Error",e,"error")}d(!1)};return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,t.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-blue-700 text-center mb-4",children:"Restablecer Contrase\xf1a"}),(0,t.jsx)("p",{className:"text-gray-600 text-center mb-4",children:"Ingresa tu nueva contrase\xf1a."}),(0,t.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,t.jsx)("input",{type:"password",placeholder:"Nueva Contrase\xf1a",value:e,onChange:e=>r(e.target.value),className:"w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("input",{type:"password",placeholder:"Confirmar Contrase\xf1a",value:s,onChange:e=>a(e.target.value),className:"w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-green-600 text-white py-3 rounded-md hover:bg-green-700 transition flex justify-center items-center",disabled:u,children:u?(0,t.jsx)("span",{className:"animate-spin h-5 w-5 border-4 border-white border-t-transparent rounded-full"}):"Actualizar Contrase\xf1a"})]}),(0,t.jsx)("div",{className:"text-center mt-4",children:(0,t.jsx)("a",{href:"/login",className:"text-blue-600 hover:underline",children:"← Volver al login"})})]})})}function m(){return(0,t.jsx)(n.Suspense,{fallback:(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."}),children:(0,t.jsx)(d,{})})}},83997:(e,r,s)=>{Promise.resolve().then(s.bind(s,55443))}},e=>{var r=r=>e(e.s=r);e.O(0,[8320,9641,3464,8441,1684,7358],()=>r(83997)),_N_E=e.O()}]);